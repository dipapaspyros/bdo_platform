{% extends 'base.html' %}

{% load static %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css"/>
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick-theme.css"/>

    <link href="{% static 'css/main.css' %}" rel="stylesheet" />
    <link href="{% static 'css/services/dataset.css' %}" rel="stylesheet" />
{% endblock %}

{% block content %}
    <div class="row">
        <div class="col-xs-12">
            <div class="card">
                <div class="card-block">
                    <div class="row">
                        <div class="col-xs-2 padding-3">
                            <div class="padding-3">
                                <div class="img-bg-container contain dataset-preview"
                                    style="background-image: url('{% static 'img/logo.png' %}');">

                                </div>
                            </div>
                        </div>
                        <div class="col-xs-9">
                            <h1 class="dataset-title o-blue">{{ dataset.title }}</h1>
                            <p>{{ dataset.description|default:"No description provided" }}</p>
                        </div>
                        <div class="col-xs-1">
                            <a class="btn btn-danger btn-sm" href="/bdo/?data-on-top=true">Back</a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="btn-group pull-left margin-5">
                                <a href="#" class="btn btn-sm btn-info">
                                    <i class="fa fa-search margin-right-2"></i> Explore data
                                </a>
                                <a href="#" class="btn btn-sm btn-info">
                                    <i class="fa fa-industry margin-right-2"></i> Request access (unavailable)
                                </a>
                            </div>
                            <div class="pull-right margin-5">
{#                                <span class="margin-right-4 o-gray"><i class="fa fa-industry o-purple margin-right-1"></i> 7 services</span>#}
                                  <span class="margin-right-4 o-gray"><i class="fa fa-download o-green margin-right-1"></i> added: 3 months ago</span>
                                  <span class="margin-right-4 o-gray"><i class="fa fa-download o-green margin-right-1"></i> last updated: 2 days ago</span>
{#                                <span class="margin-right-4 o-orange">#}
{#                                    <i class="fa fa-star"></i>#}
{#                                    <i class="fa fa-star"></i>#}
{#                                    <i class="fa fa-star"></i>#}
{#                                    <i class="fa fa-star-half-o"></i>#}
{#                                    <i class="fa fa-star-o"></i>#}
{#                                    3.7#}
{#                                </span>#}
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-block">
                    <ul class="nav nav-tabs nav-tabs-neutral justify-content-center" role="tablist" data-background-color="blue">
                        <li class="nav-item active">
                            <a class="nav-link active" data-toggle="tab" href="#overview" role="tab" aria-expanded="true">Overview</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#advanced-insights" role="tab" aria-expanded="false" onclick="setTimeout(initDatasetCharts, 500)">Insights</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-toggle="tab" href="#metadata" role="tab">Metadata</a>
                        </li>
                    </ul>
                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div class="tab-pane active" id="overview" role="tabpanel" aria-expanded="true">
                            <div class="row">
                                <div class="col-xs-12 padding-5">
                                    <p class="padding-horizontal-3">Showing entries
                                        <span class="o-blue">1</span> - <span class="o-blue">5</span>
                                        , <span class="o-orange">36 GB</span> of data in total.</p>
                                    <table class="table table-hover">
	                                    <thead class="text-info">
	                                        <tr>
                                                <th>Vessel ID</th>
                                                <th>Type</th>
                                                <th>Time</th>
                                                <th>Position</th>
                                                <th>Speed</th>
                                                <th>Course</th>
                                                <th>Heading</th>
                                                <th>Status</th>
	                                    </tr></thead>
	                                    <tbody>
	                                        <tr>
	                                        	<td>443351</td>
	                                        	<td>Tug</td>
	                                        	<td>06-05-11 00:00</td>
	                                        	<td>-58.34315, -34.62647</td>
	                                        	<td>0</td>
	                                        	<td>65</td>
	                                        	<td>511</td>
	                                        	<td>Default</td>
	                                        </tr>
                                            <tr>
	                                        	<td>112529</td>
	                                        	<td>OffShore Structure</td>
	                                        	<td>06-05-11 00:00</td>
	                                        	<td>-3.508397, 53.48074</td>
	                                        	<td>0</td>
	                                        	<td>0</td>
	                                        	<td>0</td>
	                                        	<td>Aid to Navigation</td>
	                                        </tr>
                                            <tr>
	                                        	<td>9910</td>
	                                        	<td>Cargo</td>
	                                        	<td>06-05-11 00:00</td>
	                                        	<td>15.69047, 48.38525</td>
	                                        	<td>93</td>
	                                        	<td>58</td>
	                                        	<td>511</td>
	                                        	<td>Underway using Engine</td>
	                                        </tr>
                                            <tr>
	                                        	<td>10247</td>
	                                        	<td>Cargo - Hazard D (Recognizable)</td>
	                                        	<td>06-05-11 00:00</td>
	                                        	<td>93,15.69047, 48.38525</td>
	                                        	<td>47</td>
	                                        	<td>278</td>
	                                        	<td>511</td>
	                                        	<td>Underway using Engine</td>
	                                        </tr>
                                            <tr>
	                                        	<td>10247</td>
	                                        	<td>Fishing</td>
	                                        	<td>06-05-11 00:00</td>
	                                        	<td>120.3334, 26.99601</td>
	                                        	<td>57</td>
	                                        	<td>46</td>
	                                        	<td>511</td>
	                                        	<td>Class B</td>
	                                        </tr>
	                                    </tbody>
	                                </table>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="advanced-insights" role="tabpanel" aria-expanded="false">
                            <div class="col-xs-12 margin-vertical-3">
                                <h4 class="o-blue" style="text-decoration: underline">What are insights?</h4>

                                <p>The uploader of this dataset has prepared a <em class="o-blue">smart sneak peak</em>
                                    to help you gain a better view of its potential!</p>
                                <p>All visualizations have been created using BigDataOcean, ensuring the validity of the results.
                                    Please note that textual elements, such as comments, are directly provided by the uploader.
                                </p>

                                <div class="slider-container">
                                    <div class="slider">
                                        <div>
                                            <div id="chart1"></div>
                                        </div>

                                        <div>
                                            <div id="chart2"></div>
                                        </div>

                                        <div>
                                            <div id="chart3"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="metadata" role="tabpanel">
                            <div class="col-xs-12 margin-vertical-3">
                                <table class="table">
                                    <thead class="text-info">
                                        <tr>
                                            <th>Property</th>
                                            <th>Value(s)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Organization</td>
                                            <td>{{ dataset.organization }}</td>
                                        </tr>
                                        <tr>
                                            <td>Private</td>
                                            <td>{{ dataset.private }}</td>
                                        </tr>
                                        <tr>
                                            <td>Spatial Coverage</td>
                                            <td>----</td>
                                        </tr>
                                        <tr>
                                            <td>Temporal Coverage</td>
                                            <td>----</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block js %}
    <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.min.js"></script>
    <script>
        $('.slider').slick({dots: true});
        setTimeout(function() {
            $('.slider').find('.slick-next').click();
        }, 1000);

        var initDatasetCharts = function(){
            var dataDailySalesChart = {
                labels: ['M', 'T', 'W', 'T', 'F', 'S', 'S'],
                series: [
                    [12, 17, 7, 17, 23, 18, 38]
                ]
            };

            var optionsDailySalesChart = {
                lineSmooth: Chartist.Interpolation.cardinal({
                    tension: 0
                }),
                low: 0,
                high: 50, // creative tim: we recommend you to set the high sa the biggest value + something for a better look
                chartPadding: { top: 0, right: 0, bottom: 0, left: 0}
            };

            var dailySalesChart = new Chartist.Line('#chart1', dataDailySalesChart, optionsDailySalesChart);

            md.startAnimationForLineChart(dailySalesChart);



            /* ----------==========     Completed Tasks Chart initialization    ==========---------- */
            var dataCompletedTasksChart = {
                labels: ['12am', '3pm', '6pm', '9pm', '12pm', '3am', '6am', '9am'],
                series: [
                    [230, 750, 450, 300, 280, 240, 200, 190]
                ]
            };

            var optionsCompletedTasksChart = {
                lineSmooth: Chartist.Interpolation.cardinal({
                    tension: 0
                }),
                low: 0,
                high: 1000, // creative tim: we recommend you to set the high sa the biggest value + something for a better look
                chartPadding: { top: 0, right: 0, bottom: 0, left: 0}
            };

            var completedTasksChart = new Chartist.Line('#chart2', dataCompletedTasksChart, optionsCompletedTasksChart);

            // start animation for the Completed Tasks Chart - Line Chart
            md.startAnimationForLineChart(completedTasksChart);



            /* ----------==========     Emails Subscription Chart initialization    ==========---------- */

            var dataEmailsSubscriptionChart = {
              labels: ['Jan', 'Feb', 'Mar', 'Apr', 'Mai', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
              series: [
                [542, 443, 320, 780, 553, 453, 326, 434, 568, 610, 756, 895]

              ]
            };
            var optionsEmailsSubscriptionChart = {
                axisX: {
                    showGrid: false
                },
                low: 0,
                high: 1000,
                chartPadding: { top: 0, right: 5, bottom: 0, left: 0}
            };
            var responsiveOptions = [
              ['screen and (max-width: 640px)', {
                seriesBarDistance: 5,
                axisX: {
                  labelInterpolationFnc: function (value) {
                    return value[0];
                  }
                }
              }]
            ];
            var emailsSubscriptionChart = Chartist.Bar('#chart3', dataEmailsSubscriptionChart, optionsEmailsSubscriptionChart, responsiveOptions);

            //start animation for the Emails Subscription Chart
            md.startAnimationForBarChart(emailsSubscriptionChart);
        };
    </script>
{% endblock %}